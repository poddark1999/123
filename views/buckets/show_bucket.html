<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>
	<div class="card">
		<h1>{{ bucket.name }}</h1>
		<div class="chart-animation">
			{{ plot|safe }}
		</div>
		<p>Goal: {{ bucket.currency }} {{ bucket.goal|int }}</p>
		<p>Deadline: {{ bucket.deadline }}</p>
		<p>Allocated: {{ bucket.currency }} {{ bucket.current_amount|int }}</p>
		<p>Comment: {{ bucket.comment }}</p>
		<p>Created: {{ bucket.creation_date }}</p>
	</div>
	<p>
		<div class="flex-container">
			<button type="button" onclick="openModal()">Delete</button>
			<button type="button" onclick="location.href='{{ url_for('edit_bucket', uuid=bucket.get_id()) }}'">Update</button>
		</div>
	</p>
	<div id="myModal" class="modal">
		<!-- Modal content -->
		<div class="modal-content">
			<h2>Delete the bucket "{{ bucket.icon }} {{ bucket.name }}"</h2>
			<p>Are you sure you want to delete this bucket? This action cannot be undone.</p>
			<div class="flex-container modal-buttons">
				<button type="button" onclick="deleteBucket()">Yes</button>
				<button type="button" onclick="closeModal()">No</button>
			</div>
		</div>
	</div>
	<script>
		function openModal() {
			document.getElementById("myModal").style.display = "block";
		}

		function closeModal() {
			document.getElementById("myModal").style.display = "none";
		}

		function deleteBucket() {
			location.href = '{{ url_for('delete_bucket', uuid=bucket.get_id()) }}';
		}
	</script>
	<a href="{{ url_for('list_buckets')}}">Go back to my buckets</a>
	<a href="{{ url_for('index') }}">Back to homepage</a>

</body>
</html>
